- name: Fedora post install playbook
  hosts: localhost
  become: true
  vars:
    repo_packages:
      - util-linux-user
      - neovim
      - emacs
      - zsh
      - rclone
      - rclone-browser
      - clisp
      - sbcl
      - ripgrep
      - git
      - flatpak
      - tlp
      - powertop
      - gnome-boxes
      - lutris
      - octave
      - octave-statistics
      - gnome-tweaks
    flatpak_packages:
      - org.telegram.desktop
      - com.gigitux.gtkwhats
      - com.discordapp.Discord
      - com.valvesoftware.Steam
      - com.bitwarden.desktop
  tasks:
    - name: Install repo packages
      dnf:
        name: "{{ repo_packages }}"
    - name: Enable flathub
      flatpak_remote:
        name: flathub
        state: present
        flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo
    - name: Install flatpak packages
      flatpak:
        name: "{{ flatpak_packages }}"
        state: present
